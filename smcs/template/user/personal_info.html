<html>
#include("include/inc_header_v2.html")
<body>
#include("include/inc_position.html")
<div class="page-header">
<h3>$Translate("修改密码")$</h3>
</div>
<form action="/usermgr/personal_info" method=post id="post_form">
<table class="table table-striped table-bordered table-hover" style="width:80%;">
<tr>
	<td width="20%" height="26" class="td_bg" style="text-align: center;">$Translate("账号")$:</td>
	<td width="80%" height="26" style="text-align: left;" class="content">
		<input type="text" name="account" value="$User.account$" readonly="true">
	</td>
</tr>
<tr>
	<td width="20%" height="26" class="td_bg" style="text-align: center;">$Translate("输旧密码")$:</td>
	<td width="80%" height="26" style="text-align: left;" class="content">
		<input type="password" placeholder="$Translate("输老密码")$" name="OldPassword">
	</td>
</tr>
<tr>
	<td width="20%" height="26" class="td_bg" style="text-align: center;">$Translate("输新密码")$:</td>
	<td width="80%" height="26" style="text-align: left;" class="content">
		<input type="password" placeholder="$Translate("输新密码")$" name="NewPassword" id="NewPassword">
	</td>
</tr>
<tr>
	<td colspan="2" class="button content" style="text-align:center;">
		<input type="submit" class="submit_btn" name="submit" value="$Translate("提交")$"/> 
	</td>
</tr>
</table>
</form>
</div>
<script>
	$(document).ready(function(){
		$("#post_form").submit(function(){
			var newPasswrod = $("#NewPassword").val();
			if(checkPass(newPasswrod)<3){
				alert("$Translate('密码必须包含大小写字母和数字，并且长度大于6')$");
				return false;
			}
		});
	})
	//检查密码强度
	function checkPass(pass){
		if(pass.length < 6){  return 0; }
		var ls = 0;
		if(pass.match(/([a-z])+/)){  ls++; } 
		if(pass.match(/([0-9])+/)){  ls++; } 
		if(pass.match(/([A-Z])+/)){   ls++; } 
		if(pass.match(/[^a-zA-Z0-9]+/)){ ls++;} 
		return ls;
	}
</script>
</body>
</html>
